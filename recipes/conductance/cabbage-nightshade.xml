<?xml version="1.0" encoding="ISO-8859-1"?>
<simulation name="Cabbage field" version="1.0">
    <integrator name="steps" type="UniSim::Steps">
        <parameter name="maxSteps" value="100"/>
    </integrator>
	
	<model name="calendar" type="UniSim::Calendar">
		<parameter name="initialDate" value="1/1/2010"/>
	</model>
	
	<model name="weather" type="conductance::Weather">
		<parameter name="irradiation" value="20"/>
	</model>

	<model name="community" type="conductance::Community">
		<model name="cabbage" type="conductance::Plant">
			<parameter name="n" value="9" />
			<parameter name="initWeight" value="0.05" />
			<parameter name="F" value="0.0158"/>
			<parameter name="theta" value="0.84"/>
			<parameter name="A" value="0.0314"/>
			<parameter name="phi" value="0.529"/>
			<parameter name="k" value="0.71"/>
			<parameter name="eps" value="1.40"/>
		</model>
		<model name="nightshade" type="conductance::Plant">
			<parameter name="n" value="20" />
			<parameter name="initWeight" value="0.05"/>
			<parameter name="F" value="0.0171"/>
			<parameter name="theta" value="0.866"/>
			<parameter name="A" value="0.0265"/>
			<parameter name="phi" value="0.747"/>
			<parameter name="k" value="0.70"/>
			<parameter name="eps" value="1.20"/>
		</model>
	</model>

	<output type="table">
		<parameter name="filename" value ="cabbage_nightshade_output.prn"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage_phase" ref="cabbage[phase]"/>
		<trace label="nightshade_phase" ref="nightshade[phase]"/>
		<trace label="cabbage_sz" ref="cabbage[sz]"/>
		<trace label="nightshade_sz" ref="nightshade[sz]"/>
		<trace label="cabbage_Lz" ref="cabbage[Lz]"/>
		<trace label="nightshade_Lz" ref="nightshade[Lz]"/>
		<trace label="cabbage_fz" ref="cabbage[fz]"/>
		<trace label="nightshade_fz" ref="nightshade[fz]"/>
		<trace label="community_sz" ref="community[sum_sz]"/>
	</output>

	<output type="plot">
		<parameter name="title" value ="Weather"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="irradiation" ref="weather[irradiation]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Phase"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[phase]"/>
		<trace label="nightshade" ref="nightshade[phase]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Total crown zone area"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="community" ref="community[sum_sz]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Weight (g/plant)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[weight]"/>
		<trace label="nightshade" ref="nightshade[weight]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Leaf area (m2/plant)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[LA_per_plant]"/>
		<trace label="nightshade" ref="nightshade[LA_per_plant]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Weight (g/m2 ground avail.)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[totalWeight]"/>
		<trace label="nightshade" ref="nightshade[totalWeight]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Growth rate (g/plant/day)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[dweight]"/>
		<trace label="nightshade" ref="nightshade[dweight]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Crown zone area (sz)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[sz]"/>
		<trace label="nightshade" ref="nightshade[sz]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="LAI within sz (Lz)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[Lz]"/>
		<trace label="nightshade" ref="nightshade[Lz]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Light intercepted (fz)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[fz]"/>
		<trace label="nightshade" ref="nightshade[fz]"/>
	</output>
	<output type="plot">
		<parameter name="title" value ="Leaf area index (LAI)"/>
		<trace label="Day" ref="calendar[dayOfYear]"/>
		<trace label="cabbage" ref="cabbage[lai]"/>
		<trace label="nightshade" ref="nightshade[lai]"/>
	</output>
</simulation>
