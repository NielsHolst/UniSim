<?xml version="1.0" encoding="ISO-8859-1"?>
<simulation name="Insect development">
	<integrator name="steps" type="UniSim::Steps">
		<parameter name="maxSteps" value="20"/>
	</integrator>

	<model name="calendar" type="UniSim::Calendar">
		<parameter name="initialDate" value="1/4/2005"/>
		<parameter name="latitude" value="60"/>
	</model>
	
	<model name="weather" type="UniSim::Records">
		<parameter name="fileName" value="flakkebjerg2005-06.txt"/>
		<parameter name="imposeInitialDateTime" value="no"/>
	</model>

	<model name="insect">
		<model name="egg">
			<model name="time" type="UniSim::DayDegrees">
				<parameter name="T0" value="4.5"/>
			</model>
			<model name="number" type="UniSim::Stage">
				<parameter name="duration" value="41"/>
				<parameter name="k" value="30"/>
				<parameter name="initialInflow" value="100"/>
			</model>
		</model>
	</model>

	
	<output type="plot">
		<parameter name="title" value="Calendar"/>
		<trace label="Julian day" ref="calendar[dayOfYear]"/>
		<trace label="Day length" ref="calendar[dayLength]"/>
	</output>

	<output type="plot">
		<parameter name="title" value="Temperature"/>
		<trace label="Julian day" ref="calendar[dayOfYear]"/>
		<trace label="Min" ref="weather[Tmin]"/>
		<trace label="Max" ref="weather[Tmax]"/>
		<trace label="Average" ref="weather[Tavg]"/>
	</output>

	<output type="plot">
		<parameter name="title" value="Insect development"/>
		<trace label="Julian day" ref="calendar[dayOfYear]"/>
		<trace label="Eggs" ref="insect/egg/number[value]"/>
	</output>
</simulation>
