<?xml version="1.0" encoding="ISO-8859-1"?>

<simulation name="Insecticide ecotoxicology">

	<integrator name="steps" type="UniSim::Steps">
		<parameter name="maxSteps" value="100"/>
	</integrator>
	
	<model name="calendar" type="UniSim::Calendar">
		<parameter name="initialDate" value="01/05/2008"/>
	</model>

	<model name="weather" type="UniSim::Weather">
		<model name="records" type="UniSim::Records">
			<parameter name="fileName" value="harlingen2008.txt"/>
			<parameter name="imposeInitialDateTime" value="no"/>  <!-- Tell the Records model not to impose its time scale on the calendar -->
		</model>
	</model>
	<model name="maize">
		<model name="time" type="UniSim::DayDegrees">
			<parameter name="T0" value="5"/>
		</model>
		<model name="vegetative" type="UniSim::Stage">
			<parameter name="duration" value="400"/>
			<parameter name="initialInflow" value="1"/>
		</model>
		<model name="flowering" type="UniSim::Stage">
			<parameter name="duration" value="200"/>
			<parameter name="inflow" ref="vegetative[outflow]"/>
		</model>
		<model name="senescent" type="UniSim::Stage">
			<parameter name="duration" value="300"/>
			<parameter name="inflow" ref="flowering[outflow]"/>
		</model>
	</model>

	<model name="application" type="insecticide::Application">
		<parameter name="day" value="15"/>
		<parameter name="dosage" value="7.5"/>
	</model>

	<model name="soil" type="insecticide::Compartment">
		<parameter name="application" ref="application[application]"/>
	</model>

	<model name="water" type="insecticide::Compartment">
	</model>

	<model name="leaf" type="insecticide::Compartment">
	</model>
	
	<output type="plot">
		<parameter name="title" value ="Weather"/>
		<trace label="Julian day number" value="calendar[dayOfYear]"/>
		<trace label="Temperature" value="weather[Tavg]"/>
	</output>

	<output type="plot">
		<parameter name="title" value="Maize development"/>
		<trace label="Julian day number" value="calendar[dayOfYear]"/>
		<trace label="Vegetative" ref="vegetative[value]"/>
		<trace label="Flowering" ref="flowering[value]"/>
		<trace label="Senescent" ref="senescent[value]"/>
	</output>

	<output type="plot">
		<parameter name="title" value="Insecticide in compartments"/>
		<trace label="Julian day number" value="calendar[dayOfYear]"/>
		<trace label="Soil" ref="soil[concentration]"/>
	</output>

</simulation>
