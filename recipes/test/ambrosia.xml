<?xml version="1.0" encoding="ISO-8859-1"?>
<simulation version="1.0">

    <integrator type="Steps">
        <parameter name="maxSteps" value="300"/>
        <sequence>
            <model name="calendar"/>
            <model name="weather"/>
            <model name="plants"/>
        </sequence>
    </integrator>
	
	<model name="calendar" type="UniSim::Calendar">
		<parameter name="latitude" value="55.3" comment="Flakkebjerg"/>
		<parameter name="followers" value="weather"/>
	</model>
	<model name="weather" type="ambrosia::Weather">
		<parameter name="fileName" value="flakkebjerg 2009.txt"/>
		<parameter name="initialDate" value="1/1/2009"/>
		<parameter name="colTavg" value="3"/>
	</model>
	
	<model name="plants">
		<model name="plant" type="ambrosia::Plant">
			<model name="timeC" type="ambrosia::Time">
				<parameter name="alfa" value="60"/>
			</model>
			<model name="timeABDE" type="ambrosia::Time">
				<parameter name="alfa" value="50"/>
			</model>

			<parameter name="bioDaysA" value="7"/>
			<parameter name="bioDaysB" value="4.5"/>
			<parameter name="bioDaysC" value="4.5"/>
			<parameter name="bioDaysD" value="4.5"/>
			<parameter name="bioDaysE" value="14.5"/>

			<parameter name="beginDay" value="1"/>
			<parameter name="beginMonth" value="6"/>
		</model>
	</model>
		
	<output type="table">
		<parameter name="filename" value="test_plugins.prn"/>
		<trace label="Day"  value="calendar[dayOfYear]"/>
		
		<trace label="Temp"  value="weather[Tavg]"/>
		<trace label="Daylength"  value="calendar[daylength]"/>
		
		<trace label="DaylengthC"  value="plant/timeC[dayLengthIndex]"/>
		<trace label="TempC"  value="plant/timeC[temperatureIndex]"/>
		
		<trace label="DaylengthABDE"  value="plant/timeABDE[dayLengthIndex]"/>
		<trace label="TempABDE"  value="plant/timeABDE[temperatureIndex]"/>
		
		<trace label="stage"  value="plant[stage]"/>
	</output>

</simulation>
